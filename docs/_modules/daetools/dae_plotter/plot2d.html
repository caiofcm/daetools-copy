<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>daetools.dae_plotter.plot2d &#8212; DAE Tools 1.9.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootswatch-3.3.6/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../_static/[d][a][e].ico"/>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html"><span><img src="../../../_static/[d][a][e]_Tools_project.png"></span>
          DAE Tools</a>
        <span class="navbar-text navbar-version pull-left"><b>1.9.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="/">Home</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../paradigms.html">2. Programming Paradigms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">3. Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_daetools.html">4. Getting DAE Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">5. Getting Started with DAE Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pyDAE_user_guide.html">6. User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pyDAE_api_ref.html">7. API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">8. Tutorials</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <h1>Source code for daetools.dae_plotter.plot2d</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;********************************************************************************</span>
<span class="sd">                            plot2d.py</span>
<span class="sd">                 DAE Tools: pyDAE module, www.daetools.com</span>
<span class="sd">                 Copyright (C) Dragan Nikolic</span>
<span class="sd">***********************************************************************************</span>
<span class="sd">DAE Tools is free software; you can redistribute it and/or modify it under the</span>
<span class="sd">terms of the GNU General Public License version 3 as published by the Free Software</span>
<span class="sd">Foundation. DAE Tools is distributed in the hope that it will be useful, but WITHOUT</span>
<span class="sd">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A</span>
<span class="sd">PARTICULAR PURPOSE. See the GNU General Public License for more details.</span>
<span class="sd">You should have received a copy of the GNU General Public License along with the</span>
<span class="sd">DAE Tools software; if not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
<span class="sd">********************************************************************************&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">sys</span><span class="o">,</span> <span class="nn">numpy</span><span class="o">,</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">join</span><span class="p">,</span> <span class="n">realpath</span><span class="p">,</span> <span class="n">dirname</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="k">import</span> <span class="n">QtCore</span><span class="p">,</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtWidgets</span>

<span class="c1"># Matplotlib imports</span>
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;Qt5Agg&#39;</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;figure.autolayout&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="k">import</span> <span class="n">Figure</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_qt5agg</span> <span class="k">import</span> <span class="n">FigureCanvasQTAgg</span> <span class="k">as</span> <span class="n">FigureCanvas</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_qt5agg</span> <span class="k">import</span> <span class="n">NavigationToolbar2QT</span> <span class="k">as</span> <span class="n">NavigationToolbar</span>
<span class="kn">import</span> <span class="nn">matplotlib.animation</span> <span class="k">as</span> <span class="nn">animation</span>

<span class="c1"># daetools imports</span>
<span class="kn">from</span> <span class="nn">daetools.pyDAE</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">.choose_variable</span> <span class="k">import</span> <span class="n">daeChooseVariable</span><span class="p">,</span> <span class="n">daeTableDialog</span>
<span class="kn">from</span> <span class="nn">.animation_parameters</span> <span class="k">import</span> <span class="n">daeAnimationParameters</span>
<span class="kn">from</span> <span class="nn">.save_video</span> <span class="k">import</span> <span class="n">daeSavePlot2DVideo</span>
<span class="kn">from</span> <span class="nn">.user_data</span> <span class="k">import</span> <span class="n">daeUserData</span>
<span class="c1">#from .plot_options import figure_edit, surface_edit</span>

<span class="n">images_dir</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s1">&#39;images&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="daePlot2dDefaults"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.daePlot2dDefaults">[docs]</a><span class="k">class</span> <span class="nc">daePlot2dDefaults</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">markerfacecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">markeredgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linewidth</span> <span class="o">=</span> <span class="n">linewidth</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linestyle</span> <span class="o">=</span> <span class="n">linestyle</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">marker</span> <span class="o">=</span> <span class="n">marker</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">markersize</span> <span class="o">=</span> <span class="n">markersize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">markerfacecolor</span> <span class="o">=</span> <span class="n">markerfacecolor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">markeredgecolor</span> <span class="o">=</span> <span class="n">markeredgecolor</span>

<div class="viewcode-block" id="daePlot2dDefaults.to_dict"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.daePlot2dDefaults.to_dict">[docs]</a>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">d</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span>           <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span>
        <span class="n">d</span><span class="p">[</span><span class="s1">&#39;linewidth&#39;</span><span class="p">]</span>       <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linewidth</span>
        <span class="n">d</span><span class="p">[</span><span class="s1">&#39;linestyle&#39;</span><span class="p">]</span>       <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linestyle</span>
        <span class="n">d</span><span class="p">[</span><span class="s1">&#39;marker&#39;</span><span class="p">]</span>          <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">marker</span>
        <span class="n">d</span><span class="p">[</span><span class="s1">&#39;markersize&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">markersize</span>
        <span class="n">d</span><span class="p">[</span><span class="s1">&#39;markerfacecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">markerfacecolor</span>
        <span class="n">d</span><span class="p">[</span><span class="s1">&#39;markeredgecolor&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">markeredgecolor</span>
        <span class="k">return</span> <span class="n">d</span></div>

    <span class="nd">@classmethod</span>
<div class="viewcode-block" id="daePlot2dDefaults.from_dict"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.daePlot2dDefaults.from_dict">[docs]</a>    <span class="k">def</span> <span class="nf">from_dict</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">d</span><span class="p">):</span>
        <span class="n">pd</span> <span class="o">=</span> <span class="n">daePlot2dDefaults</span><span class="p">()</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">color</span>            <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">linewidth</span>        <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;linewidth&#39;</span><span class="p">])</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">linestyle</span>        <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;linestyle&#39;</span><span class="p">]</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">marker</span>           <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;marker&#39;</span><span class="p">]</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">markersize</span>       <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;markersize&#39;</span><span class="p">])</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">markerfacecolor</span>  <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;markerfacecolor&#39;</span><span class="p">]</span>
        <span class="n">pd</span><span class="o">.</span><span class="n">markeredgecolor</span>  <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;markeredgecolor&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">pd</span></div></div>

<div class="viewcode-block" id="dae2DPlot"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot">[docs]</a><span class="k">class</span> <span class="nc">dae2DPlot</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="p">):</span>
    <span class="n">plotDefaults</span> <span class="o">=</span> <span class="p">[</span><span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;solid&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>

                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>

                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>  <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>   <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;p&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;m&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;k&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">),</span>
                    <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span>     <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;dotted&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>     <span class="s1">&#39;black&#39;</span><span class="p">)</span> <span class="p">]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">updateInterval</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">animated</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
        <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">,</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">Window</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_DeleteOnClose</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">plotter</span> <span class="o">=</span> <span class="n">parent</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">legendOn</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridOn</span>   <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curves</span>   <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_isAnimating</span>  <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span>        <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span>       <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xmin_policy</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xmax_policy</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ymin_policy</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ymax_policy</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="n">animated</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span> <span class="o">=</span> <span class="n">updateInterval</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">plot2DAnimated</span>
        <span class="k">elif</span> <span class="n">updateInterval</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">plot2D</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">updateInterval</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">plot2DAutoUpdated</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;2D plot&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;line-chart.png&#39;</span><span class="p">)))</span>

        <span class="n">exit</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;close.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Exit&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">exit</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+Q&#39;</span><span class="p">)</span>
        <span class="n">exit</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Exit application&#39;</span><span class="p">)</span>
        <span class="n">exit</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>

        <span class="n">export</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;template.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Export template&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">export</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+X&#39;</span><span class="p">)</span>
        <span class="n">export</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Export template&#39;</span><span class="p">)</span>
        <span class="n">export</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotExportTemplate</span><span class="p">)</span>

        <span class="n">properties</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;preferences.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Options&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">properties</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+P&#39;</span><span class="p">)</span>
        <span class="n">properties</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Options&#39;</span><span class="p">)</span>
        <span class="n">properties</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotProperties</span><span class="p">)</span>

        <span class="n">grid</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;grid.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Grid on/off&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">grid</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+G&#39;</span><span class="p">)</span>
        <span class="n">grid</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Grid on/off&#39;</span><span class="p">)</span>
        <span class="n">grid</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotToggleGrid</span><span class="p">)</span>

        <span class="n">legend</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;legend.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Legend on/off&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">legend</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+L&#39;</span><span class="p">)</span>
        <span class="n">legend</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Legend on/off&#39;</span><span class="p">)</span>
        <span class="n">legend</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotToggleLegend</span><span class="p">)</span>

        <span class="n">viewdata</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;data.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;View tabular data&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">viewdata</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+T&#39;</span><span class="p">)</span>
        <span class="n">viewdata</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;View tabular data&#39;</span><span class="p">)</span>
        <span class="n">viewdata</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotViewTabularData</span><span class="p">)</span>

        <span class="n">export_csv</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;csv.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Export CSV&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">export_csv</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+S&#39;</span><span class="p">)</span>
        <span class="n">export_csv</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Export CSV&#39;</span><span class="p">)</span>
        <span class="n">export_csv</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotExportCSV</span><span class="p">)</span>

        <span class="n">fromUserData</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;add-user-data.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Add line from the user-provided data...&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">fromUserData</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+D&#39;</span><span class="p">)</span>
        <span class="n">fromUserData</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Add line from the user-provided data&#39;</span><span class="p">)</span>
        <span class="n">fromUserData</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotFromUserData</span><span class="p">)</span>

        <span class="n">remove_line</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;remove.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Remove line&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">remove_line</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+R&#39;</span><span class="p">)</span>
        <span class="n">remove_line</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Remove line&#39;</span><span class="p">)</span>
        <span class="n">remove_line</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">slotRemoveLine</span><span class="p">)</span>

        <span class="n">new_line</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;add.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Add line&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">new_line</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+A&#39;</span><span class="p">)</span>
        <span class="n">new_line</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Add line&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">animated</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">new_line</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">newAnimatedCurve</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_line</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">newCurve</span><span class="p">)</span>
            
        <span class="n">play_animation</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;media-playback-start.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Start animation&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">play_animation</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+S&#39;</span><span class="p">)</span>
        <span class="n">play_animation</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Start animation&#39;</span><span class="p">)</span>
        <span class="n">play_animation</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">playAnimation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span> <span class="o">=</span> <span class="n">play_animation</span> <span class="c1"># save it</span>

        <span class="n">stop_animation</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;media-playback-stop.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Stop animation&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">stop_animation</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+E&#39;</span><span class="p">)</span>
        <span class="n">stop_animation</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Stop animation&#39;</span><span class="p">)</span>
        <span class="n">stop_animation</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">stopAnimation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop_animation</span> <span class="o">=</span> <span class="n">stop_animation</span> <span class="c1"># save it</span>

        <span class="n">export_video</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;save-video.png&#39;</span><span class="p">)),</span> <span class="s1">&#39;Export video/sequence of images&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
        <span class="n">export_video</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s1">&#39;Ctrl+V&#39;</span><span class="p">)</span>
        <span class="n">export_video</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Export video/sequence of images&#39;</span><span class="p">)</span>
        <span class="n">export_video</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">exportVideo</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable</span> <span class="o">=</span> <span class="p">[</span><span class="n">export</span><span class="p">,</span> <span class="n">viewdata</span><span class="p">,</span> <span class="n">export_csv</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">properties</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable_permanently</span> <span class="o">=</span> <span class="p">[</span><span class="n">fromUserData</span><span class="p">]</span> <span class="c1">#[new_line, fromUserData, remove_line]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar_widget</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QWidget</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layoutToolbar</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolbar_widget</span><span class="p">)</span>
        <span class="n">layoutToolbar</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sizePolicy</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Minimum</span><span class="p">,</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QSizePolicy</span><span class="o">.</span><span class="n">Fixed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar_widget</span><span class="o">.</span><span class="n">setSizePolicy</span><span class="p">(</span><span class="n">sizePolicy</span><span class="p">)</span>

        <span class="n">layoutPlot</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">layoutPlot</span><span class="o">.</span><span class="n">setContentsMargins</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span><span class="c1">#&quot;#E5E5E5&quot;)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvas</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span> <span class="o">=</span> <span class="n">NavigationToolbar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">toolbar_widget</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="c1">#self.mpl_toolbar.addSeparator()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">export</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">export_csv</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">viewdata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">legend</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">new_line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">fromUserData</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">remove_line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
        <span class="c1">#self.mpl_toolbar.addAction(properties)</span>
        <span class="c1">#self.mpl_toolbar.addSeparator()</span>
        <span class="c1">#self.mpl_toolbar.addAction(exit)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">==</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">plot2DAnimated</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">play_animation</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">stop_animation</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">export_video</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fp9</span>  <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">font_manager</span><span class="o">.</span><span class="n">FontProperties</span><span class="p">(</span><span class="n">family</span><span class="o">=</span><span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">variant</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fp10</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">font_manager</span><span class="o">.</span><span class="n">FontProperties</span><span class="p">(</span><span class="n">family</span><span class="o">=</span><span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">variant</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fp12</span> <span class="o">=</span> <span class="n">matplotlib</span><span class="o">.</span><span class="n">font_manager</span><span class="o">.</span><span class="n">FontProperties</span><span class="p">(</span><span class="n">family</span><span class="o">=</span><span class="s1">&#39;sans-serif&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">variant</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;normal&#39;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">textTime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">fontproperties</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fp10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">xtransform</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ytransform</span> <span class="o">=</span> <span class="mf">1.0</span>

        <span class="k">for</span> <span class="n">xlabel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xticklabels</span><span class="p">():</span>
            <span class="n">xlabel</span><span class="o">.</span><span class="n">set_fontproperties</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fp10</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">ylabel</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">():</span>
            <span class="n">ylabel</span><span class="o">.</span><span class="n">set_fontproperties</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fp10</span><span class="p">)</span>

        <span class="n">layoutToolbar</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mpl_toolbar</span><span class="p">)</span>
        <span class="n">layoutPlot</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">)</span>
        <span class="n">layoutPlot</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">toolbar_widget</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">animated</span> <span class="o">==</span> <span class="kc">False</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QTimer</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateCurves</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span><span class="p">)</span>
        
<div class="viewcode-block" id="dae2DPlot.closeEvent"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.closeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="c1">#print(&quot;dae2DPlot.closeEvent&quot;)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="o">.</span><span class="n">event_source</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">)</span></div>

<div class="viewcode-block" id="dae2DPlot.updateCurves"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.updateCurves">[docs]</a>    <span class="k">def</span> <span class="nf">updateCurves</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1">#                                                      these three not used</span>
            <span class="k">for</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">fun</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints_2D</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="p">:</span>
                <span class="n">results</span> <span class="o">=</span> <span class="n">fun</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xtransform</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">xPoints</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">xtransform</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">xPoints</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ytransform</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">yPoints</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">ytransform</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">yPoints</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>

                <span class="n">currentTime</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>

                <span class="n">line</span><span class="o">.</span><span class="n">set_xdata</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span>
                <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">yPoints</span><span class="p">)</span>

                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">textTime</span><span class="p">:</span>
                    <span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;Time = </span><span class="si">{0}</span><span class="s1"> s&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">currentTime</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">textTime</span><span class="o">.</span><span class="n">set_text</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

            <span class="c1">#self.reformatPlot()</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)))</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.slotExportTemplate"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotExportTemplate">[docs]</a>    <span class="k">def</span> <span class="nf">slotExportTemplate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">curves</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">template</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;curves&#39;</span><span class="p">:</span>          <span class="n">curves</span><span class="p">,</span>
                        <span class="s1">&#39;plotType&#39;</span><span class="p">:</span>        <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span><span class="p">,</span>
                        <span class="s1">&#39;updateInterval&#39;</span> <span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span><span class="p">,</span>
                        <span class="s1">&#39;xlabel&#39;</span> <span class="p">:</span>         <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlabel</span><span class="p">(),</span>
                        <span class="s1">&#39;xmin&#39;</span> <span class="p">:</span>           <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="s1">&#39;xmax&#39;</span> <span class="p">:</span>           <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">],</span>
                        <span class="s1">&#39;xscale&#39;</span> <span class="p">:</span>         <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xscale</span><span class="p">(),</span>
                        <span class="s1">&#39;xtransform&#39;</span><span class="p">:</span>      <span class="mf">1.0</span><span class="p">,</span>
                        <span class="s1">&#39;ylabel&#39;</span> <span class="p">:</span>         <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_ylabel</span><span class="p">(),</span>
                        <span class="s1">&#39;ymin&#39;</span> <span class="p">:</span>           <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="s1">&#39;ymax&#39;</span> <span class="p">:</span>           <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">],</span>
                        <span class="s1">&#39;yscale&#39;</span> <span class="p">:</span>         <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_yscale</span><span class="p">(),</span>
                        <span class="s1">&#39;ytransform&#39;</span><span class="p">:</span>      <span class="mf">1.0</span><span class="p">,</span>
                        <span class="s1">&#39;legendOn&#39;</span> <span class="p">:</span>       <span class="bp">self</span><span class="o">.</span><span class="n">legendOn</span><span class="p">,</span>
                        <span class="s1">&#39;gridOn&#39;</span> <span class="p">:</span>         <span class="bp">self</span><span class="o">.</span><span class="n">gridOn</span><span class="p">,</span>
                        <span class="s1">&#39;plotTitle&#39;</span> <span class="p">:</span>      <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_title</span><span class="p">(),</span>
                        <span class="s1">&#39;windowTitle&#39;</span><span class="p">:</span>     <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">windowTitle</span><span class="p">()),</span>
                        <span class="s1">&#39;xmin_policy&#39;</span><span class="p">:</span>     <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xmin_policy</span><span class="p">),</span>
                        <span class="s1">&#39;xmax_policy&#39;</span><span class="p">:</span>     <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xmax_policy</span><span class="p">),</span>
                        <span class="s1">&#39;ymin_policy&#39;</span><span class="p">:</span>     <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ymin_policy</span><span class="p">),</span>
                        <span class="s1">&#39;ymax_policy&#39;</span><span class="p">:</span>     <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ymax_policy</span><span class="p">)</span>
                       <span class="p">}</span>

            <span class="k">for</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">fun</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints_2D</span><span class="p">)</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="p">:</span>
                <span class="c1"># variableName, indexes, points, linelabel, style = {linecolor, linewidth, linestyle, marker, markersize, markerfacecolor, markeredgecolor}</span>
                <span class="n">style</span> <span class="o">=</span> <span class="n">daePlot2dDefaults</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_color</span><span class="p">(),</span> <span class="n">line</span><span class="o">.</span><span class="n">get_linewidth</span><span class="p">(),</span> <span class="n">line</span><span class="o">.</span><span class="n">get_linestyle</span><span class="p">(),</span>
                                          <span class="n">line</span><span class="o">.</span><span class="n">get_marker</span><span class="p">(),</span> <span class="n">line</span><span class="o">.</span><span class="n">get_markersize</span><span class="p">(),</span> <span class="n">line</span><span class="o">.</span><span class="n">get_markerfacecolor</span><span class="p">(),</span> <span class="n">line</span><span class="o">.</span><span class="n">get_markeredgecolor</span><span class="p">())</span>
                <span class="n">curves</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">variable</span><span class="o">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">line</span><span class="o">.</span><span class="n">get_label</span><span class="p">(),</span> <span class="n">style</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()))</span>

            <span class="n">s</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">template</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">sort_keys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

            <span class="n">filename</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Save 2D plot template&quot;</span><span class="p">,</span> <span class="s2">&quot;template.pt&quot;</span><span class="p">,</span> <span class="s2">&quot;Templates (*.pt)&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
                <span class="k">return</span>

            <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">((</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)))</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.slotProperties"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotProperties">[docs]</a>    <span class="k">def</span> <span class="nf">slotProperties</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">figure_edit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.slotToggleLegend"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotToggleLegend">[docs]</a>    <span class="k">def</span> <span class="nf">slotToggleLegend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">legendOn</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">legendOn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updateLegend</span><span class="p">()</span></div>
        
    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.slotToggleGrid"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotToggleGrid">[docs]</a>    <span class="k">def</span> <span class="nf">slotToggleGrid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gridOn</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">gridOn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updateGrid</span><span class="p">()</span></div>
        
<div class="viewcode-block" id="dae2DPlot.updateLegend"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.updateLegend">[docs]</a>    <span class="k">def</span> <span class="nf">updateLegend</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">legendOn</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp9</span><span class="p">,</span> <span class="n">numpoints</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fancybox</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">legend_</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>
        <span class="c1">#self.reformatPlot()</span>

<div class="viewcode-block" id="dae2DPlot.updateGrid"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.updateGrid">[docs]</a>    <span class="k">def</span> <span class="nf">updateGrid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gridOn</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>
        <span class="c1">#self.reformatPlot()</span>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.slotExportCSV"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotExportCSV">[docs]</a>    <span class="k">def</span> <span class="nf">slotExportCSV</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">strInitialFilename</span> <span class="o">=</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">QDir</span><span class="o">.</span><span class="n">current</span><span class="p">()</span><span class="o">.</span><span class="n">path</span><span class="p">()</span>
        <span class="n">strInitialFilename</span> <span class="o">+=</span> <span class="s2">&quot;/untitled.csv&quot;</span><span class="p">;</span>
        <span class="n">strExt</span> <span class="o">=</span> <span class="s2">&quot;Comma separated files (*.csv)&quot;</span>
        <span class="n">strCaption</span> <span class="o">=</span> <span class="s2">&quot;Save file&quot;</span>
        <span class="n">fileName</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">strCaption</span><span class="p">,</span> <span class="n">strInitialFilename</span><span class="p">,</span> <span class="n">strExt</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">datafile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">fileName</span><span class="p">),</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">xlabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlabel</span><span class="p">()</span>
            <span class="n">ylabel</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">()</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">()</span>
            <span class="n">datafile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\&quot;</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">xlabel</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\&quot;</span><span class="s1">,</span><span class="se">\&quot;</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">ylabel</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\&quot;\n</span><span class="s1">&#39;</span> <span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
                <span class="n">datafile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.14e</span><span class="s1">,</span><span class="si">%.14e</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
            <span class="n">datafile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.slotViewTabularData"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotViewTabularData">[docs]</a>    <span class="k">def</span> <span class="nf">slotViewTabularData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>

        <span class="n">tableDialog</span> <span class="o">=</span> <span class="n">daeTableDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">tableDialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Raw data&#39;</span><span class="p">)</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">tableDialog</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">tableWidget</span>
        <span class="n">nr</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">ncol</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">nr</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                <span class="n">nr</span> <span class="o">=</span> <span class="n">n</span>

        <span class="n">xlabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlabel</span><span class="p">()</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setRowCount</span><span class="p">(</span><span class="n">nr</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setColumnCount</span><span class="p">(</span><span class="n">ncol</span><span class="p">)</span>
        <span class="n">horHeader</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">verHeader</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
            <span class="n">xlabel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlabel</span><span class="p">()</span>
            <span class="n">ylabel</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">()</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">()</span>
            <span class="n">horHeader</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
                <span class="n">newItem</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QTableWidgetItem</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.14f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">y</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>
                <span class="n">table</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">newItem</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
                <span class="n">verHeader</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%.14f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">x</span><span class="p">[</span><span class="n">k</span><span class="p">])</span>

        <span class="n">table</span><span class="o">.</span><span class="n">setHorizontalHeaderLabels</span><span class="p">(</span><span class="n">horHeader</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">setVerticalHeaderLabels</span><span class="p">(</span><span class="n">verHeader</span><span class="p">)</span>
        <span class="n">table</span><span class="o">.</span><span class="n">resizeRowsToContents</span><span class="p">()</span>
        <span class="n">tableDialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.slotRemoveLine"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotRemoveLine">[docs]</a>    <span class="k">def</span> <span class="nf">slotRemoveLine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
        <span class="n">items</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span>
            <span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

        <span class="n">nameToRemove</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QInputDialog</span><span class="o">.</span><span class="n">getItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Choose line to remove&quot;</span><span class="p">,</span> <span class="s2">&quot;Lines:&quot;</span><span class="p">,</span> <span class="n">items</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">ok</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">lines</span><span class="p">):</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">get_label</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">label</span> <span class="o">==</span> <span class="nb">str</span><span class="p">(</span><span class="n">nameToRemove</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
                    <span class="c1">#self.reformatPlot()</span>
                    <span class="c1"># updateLegend will also call canvas.draw()</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">updateLegend</span><span class="p">()</span>
                    <span class="k">return</span></div>

<div class="viewcode-block" id="dae2DPlot.newFromTemplate"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.newFromTemplate">[docs]</a>    <span class="k">def</span> <span class="nf">newFromTemplate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">template</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        template is a dictionary:</span>

<span class="sd">        .. code-block:: javascript</span>

<span class="sd">           {</span>
<span class="sd">            &quot;curves&quot;: [</span>
<span class="sd">                [</span>
<span class="sd">                &quot;variableName&quot;, </span>
<span class="sd">                [</span>
<span class="sd">                    1, </span>
<span class="sd">                    -1</span>
<span class="sd">                ], </span>
<span class="sd">                [</span>
<span class="sd">                    &quot;0.05&quot;, </span>
<span class="sd">                    &quot;*&quot;</span>
<span class="sd">                ], </span>
<span class="sd">                &quot;variableName(0.05, *)&quot;, </span>
<span class="sd">                {</span>
<span class="sd">                    &quot;color&quot;: [</span>
<span class="sd">                    0.0, </span>
<span class="sd">                    0.0, </span>
<span class="sd">                    0.0, </span>
<span class="sd">                    1.0</span>
<span class="sd">                    ], </span>
<span class="sd">                    &quot;linestyle&quot;: &quot;-&quot;, </span>
<span class="sd">                    &quot;linewidth&quot;: 1.0, </span>
<span class="sd">                    &quot;marker&quot;: &quot;o&quot;, </span>
<span class="sd">                    &quot;markeredgecolor&quot;: &quot;#000000ff&quot;, </span>
<span class="sd">                    &quot;markerfacecolor&quot;: &quot;#000000ff&quot;, </span>
<span class="sd">                    &quot;markersize&quot;: 0.0</span>
<span class="sd">                }</span>
<span class="sd">                ]</span>
<span class="sd">            ], </span>
<span class="sd">            &quot;gridOn&quot;: true, </span>
<span class="sd">            &quot;legendOn&quot;: true, </span>
<span class="sd">            &quot;plotTitle&quot;: &quot;&quot;, </span>
<span class="sd">            &quot;plotType&quot;: 0, </span>
<span class="sd">            &quot;updateInterval&quot;: 0, </span>
<span class="sd">            &quot;windowTitle&quot;: &quot;tutorial_dealii_8.ActiveSurface.cs(2.0, *)&quot;, </span>
<span class="sd">            &quot;xlabel&quot;: &quot;y-cordinate&quot;, </span>
<span class="sd">            &quot;xmax&quot;: 31.45, </span>
<span class="sd">            &quot;xmax_policy&quot;: 0, </span>
<span class="sd">            &quot;xmin&quot;: -0.4500000000000002, </span>
<span class="sd">            &quot;xmin_policy&quot;: 0, </span>
<span class="sd">            &quot;xscale&quot;: &quot;linear&quot;, </span>
<span class="sd">            &quot;xtransform&quot;: 1.0, </span>
<span class="sd">            &quot;ylabel&quot;: &quot;cs (mol/m**2)&quot;, </span>
<span class="sd">            &quot;ymax&quot;: 0.34935417753491, </span>
<span class="sd">            &quot;ymax_policy&quot;: 1, </span>
<span class="sd">            &quot;ymin&quot;: -0.00938086024107475, </span>
<span class="sd">            &quot;ymin_policy&quot;: 1, </span>
<span class="sd">            &quot;yscale&quot;: &quot;linear&quot;, </span>
<span class="sd">            &quot;ytransform&quot;: 1.0</span>
<span class="sd">           }</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">processes</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">process</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotter</span><span class="o">.</span><span class="n">getProcesses</span><span class="p">():</span>
            <span class="n">processes</span><span class="p">[</span><span class="n">process</span><span class="o">.</span><span class="n">Name</span><span class="p">]</span> <span class="o">=</span> <span class="n">process</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">processes</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">template</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">curves</span> <span class="o">=</span> <span class="n">template</span><span class="p">[</span><span class="s1">&#39;curves&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="s1">&#39;plotType&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;plotType&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="s1">&#39;xtransform&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xtransform</span> <span class="o">=</span> <span class="n">template</span><span class="p">[</span><span class="s1">&#39;xtransform&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="s1">&#39;ytransform&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ytransform</span> <span class="o">=</span> <span class="n">template</span><span class="p">[</span><span class="s1">&#39;ytransform&#39;</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">curve</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">curves</span><span class="p">):</span>
            <span class="n">variableName</span>  <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">domainIndexes</span> <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">domainPoints</span>  <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
            <span class="n">label</span>         <span class="o">=</span> <span class="kc">None</span>
            <span class="n">pd</span>            <span class="o">=</span> <span class="kc">None</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">3</span><span class="p">:</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">curve</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="p">:</span>
                <span class="n">pd</span> <span class="o">=</span> <span class="n">daePlot2dDefaults</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">curve</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>

            <span class="n">windowTitle</span>     <span class="o">=</span> <span class="s2">&quot;Select process for variable </span><span class="si">{0}</span><span class="s2"> (of </span><span class="si">{1}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">curves</span><span class="p">))</span>
            <span class="n">var_to_look_for</span> <span class="o">=</span> <span class="s2">&quot;Variable: </span><span class="si">{0}</span><span class="s2">(</span><span class="si">{1}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">variableName</span><span class="p">,</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">domainPoints</span><span class="p">))</span>
            <span class="n">items</span>       <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">processes</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="n">processName</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">showSelectProcessDialog</span><span class="p">(</span><span class="n">windowTitle</span><span class="p">,</span> <span class="n">var_to_look_for</span><span class="p">,</span> <span class="n">items</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span>
                <span class="k">return</span> <span class="kc">False</span>

            <span class="n">process</span> <span class="o">=</span> <span class="n">processes</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">processName</span><span class="p">)]</span>
            <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">Variables</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">variableName</span> <span class="o">==</span> <span class="n">variable</span><span class="o">.</span><span class="n">Name</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">==</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">plot2D</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">==</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">plot2DAutoUpdated</span><span class="p">:</span>
                        <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">get2DData</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_addNewCurve</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">pd</span><span class="p">)</span>
                        <span class="k">break</span>

                    <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotType</span> <span class="o">==</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">plot2DAnimated</span><span class="p">:</span>
                        <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">get2DAnimatedData</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">_addNewAnimatedCurve</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable_permanently</span><span class="p">:</span>
                            <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                        <span class="k">break</span>

                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;Invalid plot type&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;xlabel&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;xlabel&#39;</span><span class="p">],</span> <span class="n">fontproperties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp12</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;xmin&#39;</span> <span class="ow">in</span> <span class="n">template</span> <span class="ow">and</span> <span class="s1">&#39;xmax&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;xmin&#39;</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;xmax&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="s1">&#39;xscale&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;xscale&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="s1">&#39;ylabel&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;ylabel&#39;</span><span class="p">],</span> <span class="n">fontproperties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp12</span><span class="p">)</span>
        <span class="k">if</span> <span class="s1">&#39;ymin&#39;</span> <span class="ow">in</span> <span class="n">template</span> <span class="ow">and</span> <span class="s1">&#39;ymax&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;ymin&#39;</span><span class="p">]),</span> <span class="nb">float</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;ymax&#39;</span><span class="p">]))</span>
        <span class="k">if</span> <span class="s1">&#39;yscale&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_yscale</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;yscale&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="s1">&#39;gridOn&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">gridOn</span> <span class="o">=</span> <span class="n">template</span><span class="p">[</span><span class="s1">&#39;gridOn&#39;</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">gridOn</span><span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;legendOn&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">legendOn</span> <span class="o">=</span> <span class="n">template</span><span class="p">[</span><span class="s1">&#39;legendOn&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">legendOn</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">prop</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp9</span><span class="p">,</span> <span class="n">numpoints</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">fancybox</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">legend_</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="s1">&#39;plotTitle&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;plotTitle&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="s1">&#39;windowTitle&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;windowTitle&#39;</span><span class="p">])</span>

        <span class="k">if</span> <span class="s1">&#39;xmin_policy&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xmin_policy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;xmin_policy&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="s1">&#39;xmax_policy&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xmax_policy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;xmax_policy&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="s1">&#39;ymin_policy&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ymin_policy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;ymin_policy&#39;</span><span class="p">])</span>
        <span class="k">if</span> <span class="s1">&#39;ymax_policy&#39;</span> <span class="ow">in</span> <span class="n">template</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ymax_policy</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">template</span><span class="p">[</span><span class="s1">&#39;ymax_policy&#39;</span><span class="p">])</span>

        <span class="c1">#fmt = matplotlib.ticker.ScalarFormatter(useOffset = False)</span>
        <span class="c1">#fmt.set_scientific(False)</span>
        <span class="c1">#fmt.set_powerlimits((-3, 4))</span>
        <span class="c1">#self.canvas.axes.xaxis.set_major_formatter(fmt)</span>
        <span class="c1">#self.canvas.axes.yaxis.set_major_formatter(fmt)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        <span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="dae2DPlot.showSelectProcessDialog"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.showSelectProcessDialog">[docs]</a>    <span class="k">def</span> <span class="nf">showSelectProcessDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">windowTitle</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QInputDialog</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">windowTitle</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">setLabelText</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">setComboBoxItems</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>

        <span class="n">dlg</span><span class="o">.</span><span class="n">setComboBoxEditable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">setOption</span><span class="p">(</span><span class="n">QtWidgets</span><span class="o">.</span><span class="n">QInputDialog</span><span class="o">.</span><span class="n">UseListViewForComboBoxItems</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">textValue</span><span class="p">()),</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">False</span></div>

    <span class="k">def</span> <span class="nf">_updateFrame</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">curve</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
            
            <span class="n">times</span>   <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
            <span class="n">xPoints</span> <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span>
            <span class="n">yPoints</span> <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span>
            <span class="n">yData</span> <span class="o">=</span> <span class="n">yPoints</span><span class="p">[</span><span class="n">frame</span><span class="p">]</span>
            <span class="n">line</span><span class="o">.</span><span class="n">set_ydata</span><span class="p">(</span><span class="n">yData</span><span class="p">)</span>
            <span class="n">time</span> <span class="o">=</span> <span class="n">times</span><span class="p">[</span><span class="n">frame</span><span class="p">]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmin_policy</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>   <span class="c1"># From 1st frame</span>
                <span class="n">xmin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmin_policy</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># Overall min value</span>
                <span class="n">xmin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmin_policy</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> <span class="c1"># Adaptive</span>
                <span class="n">xmin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>                       <span class="c1"># Do not change it</span>
                <span class="n">xmin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmax_policy</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>   <span class="c1"># From 1st frame</span>
                <span class="n">xmax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmax</span><span class="o">-</span><span class="n">xmin</span><span class="p">)</span><span class="o">*</span><span class="mf">0.05</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmax_policy</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># Overall max value</span>
                <span class="n">xmax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmax</span><span class="o">-</span><span class="n">xmin</span><span class="p">)</span><span class="o">*</span><span class="mf">0.05</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">xmax_policy</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> <span class="c1"># Adaptive</span>
                <span class="n">xmax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">xmax</span><span class="o">-</span><span class="n">xmin</span><span class="p">)</span><span class="o">*</span><span class="mf">0.05</span>
            <span class="k">else</span><span class="p">:</span>                       <span class="c1"># Do not change it</span>
                <span class="n">xmax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_xlim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">dx</span> <span class="o">=</span> <span class="mf">0.0</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymin_policy</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>   <span class="c1"># From 1st frame</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">yPoints</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymin_policy</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># Overall min value</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">yPoints</span><span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymin_policy</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> <span class="c1"># Adaptive</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">yPoints</span><span class="p">[</span><span class="n">frame</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>                       <span class="c1"># Do not change it</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymax_policy</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>   <span class="c1"># From 1st frame</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">yPoints</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="n">dy</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">ymax</span><span class="o">-</span><span class="n">ymin</span><span class="p">)</span><span class="o">*</span><span class="mf">0.05</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymax_policy</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="c1"># Overall max value</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">yPoints</span><span class="p">)</span>
                <span class="n">dy</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">ymax</span><span class="o">-</span><span class="n">ymin</span><span class="p">)</span><span class="o">*</span><span class="mf">0.05</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">ymax_policy</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span> <span class="c1"># Adaptive</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">yPoints</span><span class="p">[</span><span class="n">frame</span><span class="p">])</span>
                <span class="n">dy</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="p">(</span><span class="n">ymax</span><span class="o">-</span><span class="n">ymin</span><span class="p">)</span><span class="o">*</span><span class="mf">0.05</span>
            <span class="k">else</span><span class="p">:</span>                       <span class="c1"># Do not change it</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_ylim</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">dy</span> <span class="o">=</span> <span class="mf">0.0</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">xmin</span><span class="o">-</span><span class="n">dx</span><span class="p">,</span> <span class="n">xmax</span><span class="o">+</span><span class="n">dx</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ymin</span><span class="o">-</span><span class="n">dy</span><span class="p">,</span> <span class="n">ymax</span><span class="o">+</span><span class="n">dy</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;time = </span><span class="si">%f</span><span class="s1"> s&#39;</span> <span class="o">%</span> <span class="n">time</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp10</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">frame</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="c1"># the last frame</span>
            <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable</span><span class="p">:</span>
                <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;media-playback-start.png&#39;</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Start animation&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;Start animation&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_isAnimating</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">return</span> <span class="n">lines</span>

    <span class="k">def</span> <span class="nf">_startAnimation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1">#if len(self.curves) != 1:</span>
        <span class="c1">#    return</span>

        <span class="c1"># Set properties for the frame 0</span>
        <span class="n">curve</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">times</span>  <span class="o">=</span> <span class="n">curve</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
        <span class="n">frames</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">times</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;time = </span><span class="si">%f</span><span class="s1"> s&#39;</span> <span class="o">%</span> <span class="n">times</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fontproperties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp10</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">FuncAnimation</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="p">,</span>
                                                     <span class="bp">self</span><span class="o">.</span><span class="n">_updateFrame</span><span class="p">,</span>
                                                     <span class="n">frames</span><span class="p">,</span>
                                                     <span class="n">interval</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span><span class="p">,</span>
                                                     <span class="n">blit</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                                                     <span class="n">repeat</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;media-playback-pause.png&#39;</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Pause animation&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;Pause animation&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_isAnimating</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1">#At the end do not call show() nor save(), they will be ran by a caller</span>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.playAnimation"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.playAnimation">[docs]</a>    <span class="k">def</span> <span class="nf">playAnimation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="p">:</span> <span class="c1"># animation started - pause/resume it</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isAnimating</span><span class="p">:</span> <span class="c1"># pause it</span>
                <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable</span><span class="p">:</span>
                    <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="o">.</span><span class="n">event_source</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;media-playback-start.png&#39;</span><span class="p">)))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Start animation&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;Start animation&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_isAnimating</span> <span class="o">=</span> <span class="kc">False</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span> <span class="c1"># restart it</span>
                <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable</span><span class="p">:</span>
                    <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="o">.</span><span class="n">event_source</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;media-playback-pause.png&#39;</span><span class="p">)))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Pause animation&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;Pause animation&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_isAnimating</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span> <span class="c1"># start animation</span>
            <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable</span><span class="p">:</span>
                <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_startAnimation</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.stopAnimation"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.stopAnimation">[docs]</a>    <span class="k">def</span> <span class="nf">stopAnimation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="p">:</span> <span class="c1"># animated started - stop it</span>
            <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable</span><span class="p">:</span>
                <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="o">.</span><span class="n">event_source</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span> <span class="o">=</span> <span class="kc">None</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setIcon</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QIcon</span><span class="p">(</span><span class="n">join</span><span class="p">(</span><span class="n">images_dir</span><span class="p">,</span> <span class="s1">&#39;media-playback-start.png&#39;</span><span class="p">)))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setStatusTip</span><span class="p">(</span><span class="s1">&#39;Start animation&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">play_animation</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;Start animation&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_isAnimating</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="c1"># Go back to frame 0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_updateFrame</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.exportVideo"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.exportVideo">[docs]</a>    <span class="k">def</span> <span class="nf">exportVideo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">daeSavePlot2DVideo</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">enc</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">animation</span><span class="o">.</span><span class="n">writers</span><span class="o">.</span><span class="n">list</span><span class="p">()):</span>
            <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboEncoders</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">enc</span><span class="p">))</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineeditCodec</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineeditFilename</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">expanduser</span><span class="p">(</span><span class="s1">&#39;~&#39;</span><span class="p">),</span> <span class="s1">&#39;video.avi&#39;</span><span class="p">))</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">spinFPS</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineeditExtraArgs</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([]))</span> <span class="c1"># [&#39;-pix_fmt&#39;, &#39;yuv420p&#39;]</span>
        <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">spinBitrate</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">filename</span>   <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineeditFilename</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="n">fps</span>        <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">spinFPS</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="n">encoder</span>    <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboEncoders</span><span class="o">.</span><span class="n">currentText</span><span class="p">())</span>
        <span class="n">codec</span>      <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineeditCodec</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
        <span class="n">bitrate</span>    <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">spinBitrate</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="n">extra_args</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">extra_args</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">lineeditExtraArgs</span><span class="o">.</span><span class="n">text</span><span class="p">())))</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>
        <span class="k">if</span> <span class="n">bitrate</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">bitrate</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="n">codec</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">codec</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">extra_args</span><span class="p">:</span>
            <span class="n">extra_args</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">(fps = </span><span class="si">%s</span><span class="s1">, codec = </span><span class="si">%s</span><span class="s1">, bitrate = </span><span class="si">%s</span><span class="s1">, extra_args = </span><span class="si">%s</span><span class="s1">) -&gt; </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">encoder</span><span class="p">,</span> <span class="n">fps</span><span class="p">,</span> <span class="n">codec</span><span class="p">,</span> <span class="n">bitrate</span><span class="p">,</span> <span class="n">extra_args</span><span class="p">,</span> <span class="n">filename</span><span class="p">))</span>

        <span class="c1"># First stop the existing animation, if already started</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stopAnimation</span><span class="p">()</span>
        <span class="n">Writer</span> <span class="o">=</span> <span class="n">animation</span><span class="o">.</span><span class="n">writers</span><span class="p">[</span><span class="n">encoder</span><span class="p">]</span>
        <span class="n">writer</span> <span class="o">=</span> <span class="n">Writer</span><span class="p">(</span><span class="n">fps</span> <span class="o">=</span> <span class="n">fps</span><span class="p">,</span> <span class="n">codec</span> <span class="o">=</span> <span class="n">codec</span><span class="p">,</span> <span class="n">bitrate</span> <span class="o">=</span> <span class="n">bitrate</span><span class="p">,</span> <span class="n">extra_args</span> <span class="o">=</span> <span class="n">extra_args</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_startAnimation</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">funcAnimation</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">writer</span><span class="o">=</span><span class="n">writer</span><span class="p">)</span></div>

<div class="viewcode-block" id="dae2DPlot.slotFromUserData"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.slotFromUserData">[docs]</a>    <span class="k">def</span> <span class="nf">slotFromUserData</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">dlg</span> <span class="o">=</span> <span class="n">daeUserData</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">newCurveFromUserData</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">xLabel</span><span class="p">,</span> <span class="n">dlg</span><span class="o">.</span><span class="n">yLabel</span><span class="p">,</span> <span class="n">dlg</span><span class="o">.</span><span class="n">lineLabel</span><span class="p">,</span> <span class="n">dlg</span><span class="o">.</span><span class="n">xPoints</span><span class="p">,</span> <span class="n">dlg</span><span class="o">.</span><span class="n">yPoints</span><span class="p">)</span></div>

<div class="viewcode-block" id="dae2DPlot.newCurveFromUserData"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.newCurveFromUserData">[docs]</a>    <span class="k">def</span> <span class="nf">newCurveFromUserData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">lineLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">):</span>
        <span class="k">class</span> <span class="nc">dummyVariable</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">units</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Name</span>  <span class="o">=</span> <span class="n">name</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Units</span> <span class="o">=</span> <span class="n">units</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_addNewCurve</span><span class="p">(</span><span class="n">dummyVariable</span><span class="p">(</span><span class="n">lineLabel</span><span class="p">),</span> <span class="p">[],</span> <span class="p">[],</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">lineLabel</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.newCurve"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.newCurve">[docs]</a>    <span class="k">def</span> <span class="nf">newCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">processes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotter</span><span class="o">.</span><span class="n">getProcesses</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plotType</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">updateProcessesList</span><span class="p">(</span><span class="n">processes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Choose variable for 2D plot&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">getPlot2DData</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_addNewCurve</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span></div>
    
<div class="viewcode-block" id="dae2DPlot.newVar1_vs_Var2Curve"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.newVar1_vs_Var2Curve">[docs]</a>    <span class="k">def</span> <span class="nf">newVar1_vs_Var2Curve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">processes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotter</span><span class="o">.</span><span class="n">getProcesses</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plotType</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">updateProcessesList</span><span class="p">(</span><span class="n">processes</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Choose the 1st variable (x axis) for 2D plot&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">variable1</span><span class="p">,</span> <span class="n">domainIndexes1</span><span class="p">,</span> <span class="n">domainPoints1</span><span class="p">,</span> <span class="n">xAxisLabel1</span><span class="p">,</span> <span class="n">yAxisLabel1</span><span class="p">,</span> <span class="n">xPoints1</span><span class="p">,</span> <span class="n">yPoints1</span><span class="p">,</span> <span class="n">currentTime1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">getPlot2DData</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Choose the 2nd variable (y axis) for 2D plot&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">variable2</span><span class="p">,</span> <span class="n">domainIndexes2</span><span class="p">,</span> <span class="n">domainPoints2</span><span class="p">,</span> <span class="n">xAxisLabel2</span><span class="p">,</span> <span class="n">yAxisLabel2</span><span class="p">,</span> <span class="n">xPoints2</span><span class="p">,</span> <span class="n">yPoints2</span><span class="p">,</span> <span class="n">currentTime2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">getPlot2DData</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">yPoints1</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">yPoints2</span><span class="p">):</span>
            <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;Variable1 vs. variable2 2D plot&#39;</span><span class="p">,</span> <span class="s1">&#39;The number of points in variables do not match&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">_addNewCurve</span><span class="p">(</span><span class="n">variable2</span><span class="p">,</span> <span class="n">domainIndexes2</span><span class="p">,</span> <span class="n">domainPoints2</span><span class="p">,</span> <span class="n">yAxisLabel1</span><span class="p">,</span> <span class="n">yAxisLabel2</span><span class="p">,</span> <span class="n">yPoints1</span><span class="p">,</span> <span class="n">yPoints2</span><span class="p">,</span> <span class="n">currentTime2</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="c1">#@QtCore.pyqtSlot()</span>
<div class="viewcode-block" id="dae2DPlot.newAnimatedCurve"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.newAnimatedCurve">[docs]</a>    <span class="k">def</span> <span class="nf">newAnimatedCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">processes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">plotter</span><span class="o">.</span><span class="n">getProcesses</span><span class="p">()</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span> <span class="o">=</span> <span class="n">daeChooseVariable</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">plotType</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">updateProcessesList</span><span class="p">(</span><span class="n">processes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s1">&#39;Choose variable for animated 2D plot&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">dlg</span> <span class="o">=</span> <span class="n">daeAnimationParameters</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">dlg</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span> <span class="o">!=</span> <span class="n">QtWidgets</span><span class="o">.</span><span class="n">QDialog</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updateInterval</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">spinUpdateInterval</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xmin_policy</span>    <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboXmin</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xmax_policy</span>    <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboXmax</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ymin_policy</span>    <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboYmin</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ymax_policy</span>    <span class="o">=</span> <span class="n">dlg</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">comboYmax</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>

        <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">times</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_cv_dlg</span><span class="o">.</span><span class="n">getPlot2DAnimatedData</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_addNewAnimatedCurve</span><span class="p">(</span><span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">actions_to_disable_permanently</span><span class="p">:</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_updateFrame</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="k">return</span> <span class="kc">True</span></div>

    <span class="k">def</span> <span class="nf">_addNewAnimatedCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints_2D</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">pd</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">domains</span> <span class="o">=</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">domainPoints</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">label</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">variable</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">domains</span>

        <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints_2D</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">label</span><span class="p">,</span> <span class="n">pd</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>

        <span class="c1">#                                                                 update fun is None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">times</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints_2D</span><span class="p">)</span> <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_addNewCurve</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">currentTime</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">pd</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">domains</span> <span class="o">=</span> <span class="s2">&quot;(&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">domainPoints</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">domains</span> <span class="o">+=</span> <span class="s2">&quot;, &quot;</span>
            <span class="n">domains</span> <span class="o">+=</span> <span class="n">domainPoints</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">domains</span> <span class="o">+=</span> <span class="s2">&quot;)&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">label</span><span class="p">:</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">variable</span><span class="o">.</span><span class="n">Name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;&amp;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">domains</span>

        <span class="n">line</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">pd</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="c1">#                                                                                              everything after update fun is none</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">curves</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">variable</span><span class="p">,</span> <span class="n">domainIndexes</span><span class="p">,</span> <span class="n">domainPoints</span><span class="p">,</span> <span class="n">daeChooseVariable</span><span class="o">.</span><span class="n">get2DData</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="p">)</span>

<div class="viewcode-block" id="dae2DPlot.addLine"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.addLine">[docs]</a>    <span class="k">def</span> <span class="nf">addLine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">xPoints</span><span class="p">,</span> <span class="n">yPoints</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="n">pd</span><span class="p">):</span>
        <span class="n">no_lines</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_lines</span><span class="p">())</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">pd</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">=</span> <span class="n">no_lines</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">dae2DPlot</span><span class="o">.</span><span class="n">plotDefaults</span><span class="p">)</span>
            <span class="n">pd</span> <span class="o">=</span> <span class="n">dae2DPlot</span><span class="o">.</span><span class="n">plotDefaults</span><span class="p">[</span><span class="n">n</span><span class="p">]</span>

        <span class="n">xPoints_</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xPoints</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">xtransform</span>
        <span class="n">yPoints_</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">yPoints</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">ytransform</span>

        <span class="n">line</span><span class="p">,</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xPoints_</span><span class="p">,</span> <span class="n">yPoints_</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">color</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">linewidth</span><span class="p">,</span> \
                                      <span class="n">linestyle</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">linestyle</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">marker</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">markersize</span><span class="p">,</span> \
                                      <span class="n">markerfacecolor</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">markerfacecolor</span><span class="p">,</span> <span class="n">markeredgecolor</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">markeredgecolor</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">no_lines</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> 
            <span class="c1"># Set labels, fonts, gridlines and limits only when adding the first line</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">xAxisLabel</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp12</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">yAxisLabel</span><span class="p">,</span> <span class="n">fontproperties</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fp12</span><span class="p">)</span>
            <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_offset_text</span><span class="p">()</span>
            <span class="n">t</span><span class="o">.</span><span class="n">set_fontproperties</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fp10</span><span class="p">)</span>
            <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_offset_text</span><span class="p">()</span>
            <span class="n">t</span><span class="o">.</span><span class="n">set_fontproperties</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fp10</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">updateGrid</span><span class="p">()</span>
            
        <span class="c1"># Update the legend and (x,y) limits after every addition</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updateLegend</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reformatPlot</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">line</span></div>

<div class="viewcode-block" id="dae2DPlot.reformatPlot"><a class="viewcode-back" href="../../../dae_plotter.html#daetools.dae_plotter.plot2d.dae2DPlot.reformatPlot">[docs]</a>    <span class="k">def</span> <span class="nf">reformatPlot</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">get_lines</span><span class="p">()</span>
        <span class="n">xmin</span> <span class="o">=</span> <span class="mf">1e20</span>
        <span class="n">xmax</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1e20</span>
        <span class="n">ymin</span> <span class="o">=</span> <span class="mf">1e20</span>
        <span class="n">ymax</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1e20</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">())</span> <span class="o">&lt;</span> <span class="n">xmin</span><span class="p">:</span>
                <span class="n">xmin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">())</span> <span class="o">&gt;</span> <span class="n">xmax</span><span class="p">:</span>
                <span class="n">xmax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_xdata</span><span class="p">())</span>

            <span class="k">if</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">())</span> <span class="o">&lt;</span> <span class="n">ymin</span><span class="p">:</span>
                <span class="n">ymin</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">())</span> <span class="o">&gt;</span> <span class="n">ymax</span><span class="p">:</span>
                <span class="n">ymax</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">get_ydata</span><span class="p">())</span>

        <span class="n">dx</span> <span class="o">=</span> <span class="p">(</span><span class="n">xmax</span> <span class="o">-</span> <span class="n">xmin</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.05</span>
        <span class="n">dy</span> <span class="o">=</span> <span class="p">(</span><span class="n">ymax</span> <span class="o">-</span> <span class="n">ymin</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.05</span>
        <span class="n">xmin</span> <span class="o">-=</span> <span class="n">dx</span>
        <span class="n">xmax</span> <span class="o">+=</span> <span class="n">dx</span>
        <span class="n">ymin</span> <span class="o">-=</span> <span class="n">dy</span>
        <span class="n">ymax</span> <span class="o">+=</span> <span class="n">dy</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="n">xmin</span><span class="p">,</span> <span class="n">xmax</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="n">ymin</span><span class="p">,</span> <span class="n">ymax</span><span class="p">)</span>

        <span class="c1">#self.canvas.axes.grid(self.gridOn)</span>

        <span class="c1">#if self.legendOn:</span>
        <span class="c1">#    self.canvas.axes.legend(loc = 0, prop=self.fp9, numpoints = 1, fancybox=True)</span>
        <span class="c1">#else:</span>
        <span class="c1">#    self.canvas.axes.legend_ = None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">figure</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div></div>
</pre></div>

    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2008-2019, Dragan Nikolic.<br/>
      Last updated on Mar 29, 2019.<br/>
    </p>
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-52277546-1', 'daetools.com');
  ga('send', 'pageview');
</script>


  </body>
</html>